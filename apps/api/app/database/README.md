# Скрипты для работы с базой данных

В этой директории находятся скрипты для управления базой данных проекта "Учет материалов".

## Список доступных скриптов

### 1. init_db.py

Скрипт для инициализации базы данных тестовыми данными.

**Назначение**: создает начальные данные для разработки и тестирования.

**Создаваемые данные**:
- 3 клиента
- 3 поставщика
- 5 материалов
- 3 договора

**Запуск**:
```bash
cd apps/api
python scripts/init_db.py
```

**Важно**: скрипт проверяет наличие данных в таблице клиентов перед созданием новых записей. Если в базе уже есть клиенты, скрипт завершит работу без внесения изменений.

### 2. clear_db.py

Скрипт для очистки всех данных из базы данных.

**Назначение**: удаляет все записи из всех таблиц, сохраняя структуру базы данных.

**Запуск**:
```bash
cd apps/api
python scripts/clear_db.py
```

**Важно**: скрипт запрашивает подтверждение перед очисткой. Используйте его с осторожностью, так как удаленные данные нельзя будет восстановить.

### 3. generate_demo_data.py

Скрипт для генерации демонстрационных данных с транзакциями.

**Назначение**: создает накладные, позиции накладных, транзакции и движения в регистре долгов для демонстрации полной функциональности системы.

**Запуск**:
```bash
cd apps/api
python scripts/generate_demo_data.py
```

**Важно**: для работы скрипта необходимо сначала запустить `init_db.py` для создания базовых сущностей (клиентов, поставщиков, материалов и договоров).

## Добавление новых скриптов

При добавлении новых скриптов в эту директорию, пожалуйста:
1. Добавьте описание скрипта в этот README.md файл
2. Оснастите скрипт подробными комментариями и документацией
3. Добавьте обработку ошибок и логирование
4. Убедитесь, что скрипт безопасен для повторного запуска (идемпотентен)